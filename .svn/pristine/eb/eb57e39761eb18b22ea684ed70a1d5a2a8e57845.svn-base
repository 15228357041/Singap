<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper
	namespace="com.mingcloud.proxy.datalayer.dao.archiveinfo.TransactionsMapper">
	<resultMap id="BaseResultMap" type="TransactionsEntity">
		<id column="id" property="id" jdbcType="INTEGER" />
		<result column="spid" property="spid" jdbcType="INTEGER" />
		<result column="transtype" property="transtype" jdbcType="INTEGER" />
		<result column="relationid" property="relationid" jdbcType="INTEGER" />
		<result column="stockid" property="stockid" jdbcType="INTEGER" />
		<result column="stocklocationid" property="stocklocationid"
			jdbcType="INTEGER" />
		<result column="qty" property="qty" jdbcType="DECIMAL" />
		<result column="price" property="price" jdbcType="DECIMAL" />
		<result column="amount" property="amount" jdbcType="DECIMAL" />
		<result column="userid" property="userid" jdbcType="INTEGER" />
		<result column="transdatetime" property="transdatetime"
			jdbcType="TIMESTAMP" />
		<result column="createuserid" property="createuserid" jdbcType="INTEGER" />
		<result column="modificationdate" property="modificationdate"
			jdbcType="TIMESTAMP" />
		<result column="modificationuserid" property="modificationuserid"
			jdbcType="INTEGER" />
		<result column="memo" property="memo" jdbcType="VARCHAR" />
		<result column="orgid" property="orgid" jdbcType="INTEGER" />
		<result column="issuenumber" property="issuenumber" jdbcType="VARCHAR" />
		<result column="location" property="location" jdbcType="VARCHAR" />
		<result column="tombstone" property="tombstone" jdbcType="INTEGER" />
		<result column="parentid" property="parentid" jdbcType="BIGINT" />
		<result column="status" property="status" jdbcType="INTEGER" />
	</resultMap>
	<sql id="Base_Column_List">
		id, spid, transtype, relationid, stockid, stocklocationid, qty, price,
		amount, userid,
		transdatetime, createuserid, modificationdate, modificationuserid, memo, orgid,
		issuenumber,
		location, tombstone, parentid, status
	</sql>

	<!-- dynamic full match -->
	<sql id="dynamic_full_match_condition">
		where 1=1
		<if test="id != null">
			AND id = #{id,jdbcType=INTEGER}
		</if>
		<if test="spid != null">
			AND spid = #{spid,jdbcType=INTEGER}
		</if>
		<if test="transtype != null">
			AND transtype = #{transtype,jdbcType=INTEGER}
		</if>
		<if test="relationid != null">
			AND relationid = #{relationid,jdbcType=INTEGER}
		</if>
		<if test="stockid != null">
			AND stockid = #{stockid,jdbcType=INTEGER}
		</if>
		<if test="stocklocationid != null">
			AND stocklocationid = #{stocklocationid,jdbcType=INTEGER}
		</if>
		<if test="qty != null">
			AND qty = #{qty,jdbcType=DECIMAL}
		</if>
		<if test="price != null">
			AND price = #{price,jdbcType=DECIMAL}
		</if>
		<if test="amount != null">
			AND amount = #{amount,jdbcType=DECIMAL}
		</if>
		<if test="userid != null">
			AND userid = #{userid,jdbcType=INTEGER}
		</if>
		<if test="transdatetime != null">
			AND transdatetime = #{transdatetime,jdbcType=TIMESTAMP}
		</if>
		<if test="createuserid != null">
			AND createuserid = #{createuserid,jdbcType=INTEGER}
		</if>
		<if test="modificationdate != null">
			AND modificationdate = #{modificationdate,jdbcType=TIMESTAMP}
		</if>
		<if test="modificationuserid != null">
			AND modificationuserid = #{modificationuserid,jdbcType=INTEGER}
		</if>
		<if test="memo != null">
			AND memo = #{memo,jdbcType=VARCHAR}
		</if>
		<if test="orgid != null">
			AND orgid = #{orgid,jdbcType=INTEGER}
		</if>
		<if test="issuenumber != null">
			AND issuenumber = #{issuenumber,jdbcType=VARCHAR}
		</if>
		<if test="location != null">
			AND location = #{location,jdbcType=VARCHAR}
		</if>
		<if test="tombstone != null">
			AND tombstone = #{tombstone,jdbcType=INTEGER}
		</if>
		<if test="parentid != null">
			AND parentid = #{parentid,jdbcType=BIGINT}
		</if>
		<if test="status != null">
			AND status = #{status,jdbcType=INTEGER}
		</if>
	</sql>

	<select id="get" resultMap="BaseResultMap" parameterType="TransactionsEntity">
		select
		<include refid="Base_Column_List" />
		from transactions
		<include refid="dynamic_full_match_condition" />
	</select>
	
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		delete from transactions
		where id = #{id,jdbcType=INTEGER}
	</delete>
	
	<insert id="insert" parameterType="TransactionsEntity">
		insert into transactions
	    <trim prefix="(" suffix=")" suffixOverrides="," >
	      <if test="id != null" >
	        id,
	      </if>
	      <if test="spid != null" >
	        spid,
	      </if>
	      <if test="transtype != null" >
	        transtype,
	      </if>
	      <if test="relationid != null" >
	        relationid,
	      </if>
	      <if test="stockid != null" >
	        stockid,
	      </if>
	      <if test="stocklocationid != null" >
	        stocklocationid,
	      </if>
	      <if test="qty != null" >
	        qty,
	      </if>
	      <if test="price != null" >
	        price,
	      </if>
	      <if test="amount != null" >
	        amount,
	      </if>
	      <if test="userid != null" >
	        userid,
	      </if>
	      <if test="transdatetime != null" >
	        transdatetime,
	      </if>
	      <if test="createuserid != null" >
	        createuserid,
	      </if>
	      <if test="modificationdate != null" >
	        modificationdate,
	      </if>
	      <if test="modificationuserid != null" >
	        modificationuserid,
	      </if>
	      <if test="memo != null" >
	        memo,
	      </if>
	      <if test="orgid != null" >
	        orgid,
	      </if>
	      <if test="issuenumber != null" >
	        issuenumber,
	      </if>
	      <if test="location != null" >
	        location,
	      </if>
	      <if test="tombstone != null" >
	        tombstone,
	      </if>
	      <if test="parentid != null" >
	        parentid,
	      </if>
	      <if test="status != null" >
	        status,
	      </if>
	    </trim>
	    <trim prefix="values (" suffix=")" suffixOverrides="," >
	      <if test="id != null" >
	        #{id,jdbcType=INTEGER},
	      </if>
	      <if test="spid != null" >
	        #{spid,jdbcType=INTEGER},
	      </if>
	      <if test="transtype != null" >
	        #{transtype,jdbcType=INTEGER},
	      </if>
	      <if test="relationid != null" >
	        #{relationid,jdbcType=INTEGER},
	      </if>
	      <if test="stockid != null" >
	        #{stockid,jdbcType=INTEGER},
	      </if>
	      <if test="stocklocationid != null" >
	        #{stocklocationid,jdbcType=INTEGER},
	      </if>
	      <if test="qty != null" >
	        #{qty,jdbcType=DECIMAL},
	      </if>
	      <if test="price != null" >
	        #{price,jdbcType=DECIMAL},
	      </if>
	      <if test="amount != null" >
	        #{amount,jdbcType=DECIMAL},
	      </if>
	      <if test="userid != null" >
	        #{userid,jdbcType=INTEGER},
	      </if>
	      <if test="transdatetime != null" >
	        #{transdatetime,jdbcType=TIMESTAMP},
	      </if>
	      <if test="createuserid != null" >
	        #{createuserid,jdbcType=INTEGER},
	      </if>
	      <if test="modificationdate != null" >
	        #{modificationdate,jdbcType=TIMESTAMP},
	      </if>
	      <if test="modificationuserid != null" >
	        #{modificationuserid,jdbcType=INTEGER},
	      </if>
	      <if test="memo != null" >
	        #{memo,jdbcType=VARCHAR},
	      </if>
	      <if test="orgid != null" >
	        #{orgid,jdbcType=INTEGER},
	      </if>
	      <if test="issuenumber != null" >
	        #{issuenumber,jdbcType=VARCHAR},
	      </if>
	      <if test="location != null" >
	        #{location,jdbcType=VARCHAR},
	      </if>
	      <if test="tombstone != null" >
	        #{tombstone,jdbcType=INTEGER},
	      </if>
	      <if test="parentid != null" >
	        #{parentid,jdbcType=BIGINT},
	      </if>
	      <if test="status != null" >
	        #{status,jdbcType=INTEGER},
	      </if>
	    </trim>
	</insert>
	
	<update id="update" parameterType="TransactionsEntity">
		update transactions
		<set>
			<if test="stocklocationid != null">
				stocklocationid = #{stocklocationid,jdbcType=INTEGER},
			</if>
			<if test="qty != null">
				qty = #{qty,jdbcType=DECIMAL},
			</if>
			<if test="price != null">
				price = #{price,jdbcType=DECIMAL},
			</if>
			<if test="amount != null">
				amount = #{amount,jdbcType=DECIMAL},
			</if>
			<if test="userid != null">
				userid = #{userid,jdbcType=INTEGER},
			</if>
			<if test="transdatetime != null">
				transdatetime = #{transdatetime,jdbcType=TIMESTAMP},
			</if>
			<if test="createuserid != null">
				createuserid = #{createuserid,jdbcType=INTEGER},
			</if>
			<if test="modificationdate != null">
				modificationdate = #{modificationdate,jdbcType=TIMESTAMP},
			</if>
			<if test="modificationuserid != null">
				modificationuserid = #{modificationuserid,jdbcType=INTEGER},
			</if>
			<if test="memo != null">
				memo = #{memo,jdbcType=VARCHAR},
			</if>
			<if test="orgid != null">
				orgid = #{orgid,jdbcType=INTEGER},
			</if>
			<if test="issuenumber != null">
				issuenumber = #{issuenumber,jdbcType=VARCHAR},
			</if>
			<if test="location != null">
				location = #{location,jdbcType=VARCHAR},
			</if>
			<if test="tombstone != null">
				tombstone = #{tombstone,jdbcType=INTEGER},
			</if>
			<if test="parentid != null">
				parentid = #{parentid,jdbcType=BIGINT},
			</if>
			<if test="status != null">
				status = #{status,jdbcType=INTEGER},
			</if>
		</set>
		where 1=1
		AND spid = #{spid,jdbcType=INTEGER}
		AND transtype = #{transtype,jdbcType=INTEGER}
		AND relationid = #{relationid,jdbcType=INTEGER}
		AND stockid = #{stockid,jdbcType=INTEGER}
	</update>
</mapper>