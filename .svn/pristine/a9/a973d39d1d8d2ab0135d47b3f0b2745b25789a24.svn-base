<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.mingcloud.proxy.datalayer.dao.archiveinfo.MessageconfigMapper">

    <resultMap id="BaseResultMap" type="MessageconfigEntity">
        <result column="messageconfigkey" property="messageconfigkey" jdbcType="VARCHAR"/>
        <result column="messageconfigname" property="messageconfigname" jdbcType="VARCHAR"/>
        <result column="officalwechatcorpid" property="officalwechatcorpid" jdbcType="VARCHAR"/>
        <result column="officalwechatcorpsecret" property="officalwechatcorpsecret" jdbcType="VARCHAR"/>
        <result column="mtransportprotocol" property="mtransportprotocol" jdbcType="VARCHAR"/>
        <result column="msmtpserver" property="msmtpserver" jdbcType="VARCHAR"/>
        <result column="msmtpport" property="msmtpport" jdbcType="VARCHAR"/>
        <result column="maccount" property="maccount" jdbcType="VARCHAR"/>
        <result column="mpwd" property="mpwd" jdbcType="VARCHAR"/>
        <result column="msmtpauth" property="msmtpauth" jdbcType="VARCHAR"/>
        <result column="msmtpssl" property="msmtpssl" jdbcType="VARCHAR"/>
        <result column="tombstone" property="tombstone" jdbcType="INTEGER"/>
        <result column="officalwechatagentid" property="officalwechatagentid" jdbcType="VARCHAR"/>
    </resultMap>

    <sql id="table_name">
      messageconfig
  </sql>

    <sql id="Base_Column_List">
        <include refid="table_name"/>.id,
        <include refid="table_name"/>.messageconfigkey,
        <include refid="table_name"/>.messageconfigname,
        <include refid="table_name"/>.officalwechatcorpid,
        <include refid="table_name"/>.officalwechatcorpsecret,
        <include refid="table_name"/>.mtransportprotocol,
        <include refid="table_name"/>.msmtpserver,
        <include refid="table_name"/>.msmtpport,
        <include refid="table_name"/>.maccount,
        <include refid="table_name"/>.mpwd,
        <include refid="table_name"/>.msmtpauth,
        <include refid="table_name"/>.msmtpssl,
        <include refid="table_name"/>.tombstone,
        <include refid="table_name"/>.officalwechatagentid
    </sql>

    <!-- 获取所有配置内容 -->
    <select id="selectAll" resultMap="BaseResultMap">
        SELECT
        <include refid="Base_Column_List"/>
        FROM
        <include refid="table_name"/>
        WHERE
        <include refid="table_name"/>.tombstone = 1
    </select>

</mapper>