package com.mingcloud.proxy.datacenter;

import java.util.List;

import com.mingcloud.proxy.datalayer.dao.archiveinfo.PositionMapper;
import com.mingcloud.proxy.datalayer.entity.archiveinfo.PositionEntity;
import com.mingcloud.proxy.util.SpringContextUtil;

public class PositionData {
	
	private List<PositionEntity> positionList;
	
	private static PositionData positionData;
	
	private static PositionMapper positionMapper = SpringContextUtil.getBean("positionMapper");
	
    private PositionData() {
    	setPositionData();
    }
    
    private void setPositionData() {
    	PositionEntity entity = new PositionEntity();
		entity.setPositiontype(10);
		entity.setTombstone(1);
		positionList = positionMapper.select(entity);
    }
    
    public static PositionData getInstance() {
    	if(positionData == null) {
    		positionData = new PositionData();
    	}
    	return positionData;
    }
    
    public void resetPositionList() {
    	setPositionData();
    }

    
    public List<PositionEntity> getPositionList() {
    	return positionList;
    }

	public List<PositionEntity> getWeatherPositionList() {
		PositionEntity entity = new PositionEntity();
		entity.setPositiontype(10);
		entity.setTombstone(1);
		List<PositionEntity> list = positionMapper.selectPosition(entity);
		return list;
	}
}
