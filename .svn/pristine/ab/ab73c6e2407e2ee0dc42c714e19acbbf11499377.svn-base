<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.mingcloud.proxy.datalayer.dao.archiveinfo.ChuanhuaMapper" >


  <resultMap id="BaseResultMap" type="ChuanhuaEntity" >
    <result column="Extra_WO_info4" property="extraWOinfo4" jdbcType="VARCHAR" />
    <result column="WO_Key" property="wOKey" jdbcType="VARCHAR" />
    <result column="Account_key" property="accountkey" jdbcType="VARCHAR" />
    <result column="SP_key" property="sPkey" jdbcType="VARCHAR" />
     <result column="Site_key" property="sitekey" jdbcType="VARCHAR" />
     <result column="Stock_key" property="stockkey" jdbcType="VARCHAR" />
     <result column="Start_date" property="startdate" jdbcType="VARCHAR" />
     <result column="Planned_units" property="plannedunits" jdbcType="VARCHAR" />
     <result column="Extra_WO_info5" property="extraWOinfo5" jdbcType="VARCHAR" />
  </resultMap>
  
  
  <sql id="Base_Column_List" >
    	Work_order_0.Extra_WO_info4 AS extraWOinfo4 , 
		Work_order_0.WO_Key AS wOKey, 
		Work_order_0.Account_key AS accountkey, 
		Planned_spares_0.SP_key AS sPkey, 
		Work_order_0.Site_key AS sitekey, 
		Planned_spares_0.Stock_key AS stockkey, 
		Work_order_0.Start_date AS startdate, 
		Planned_spares_0.Planned_units AS plannedunits,
		Work_order_0.Extra_WO_info5 AS extraWOinfo5
  </sql>

  
  <select id="selectAll" resultMap="BaseResultMap">
  	SELECT
  		<include refid="Base_Column_List" />
  FROM 
		API3.PUB.Planned_spares Planned_spares_0, 
		API3.PUB.Work_order Work_order_0
	WHERE 
		Work_order_0.WO_Key = Planned_spares_0.WO_Key 
		AND 
			((Work_order_0."Jobstatus#"=6) 
		AND 
			(Planned_spares_0.SP_key Is Not Null) 
		AND 
			(Work_order_0.Extra_WO_info4 In ('Z06','Z05')))
  </select>
  
</mapper>